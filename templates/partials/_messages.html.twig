{# Unified messages template for flash messages and notifications #}

{# Flash messages from Symfony #}
{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="mb-4 p-4 rounded-xl border {% if label == 'success' %}bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400{% elseif label == 'danger' or label == 'error' %}bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400{% elseif label == 'warning' %}bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-400{% else %}bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400{% endif %} flex items-start justify-between gap-3 shadow-sm" role="alert">
            <div class="flex items-start gap-3">
                <div class="shrink-0 mt-0.5">
                    {% if label == 'success' %}
                        {{ ux_icon('tabler:check-circle', {'class': 'w-5 h-5', 'aria-hidden': 'true'}) }}
                    {% elseif label == 'danger' or label == 'error' %}
                        {{ ux_icon('tabler:alert-circle', {'class': 'w-5 h-5', 'aria-hidden': 'true'}) }}
                    {% elseif label == 'warning' %}
                        {{ ux_icon('tabler:alert-triangle', {'class': 'w-5 h-5', 'aria-hidden': 'true'}) }}
                    {% else %}
                        {{ ux_icon('tabler:info-circle', {'class': 'w-5 h-5', 'aria-hidden': 'true'}) }}
                    {% endif %}
                </div>
                <div class="flex-1 text-sm font-medium">{{ message }}</div>
            </div>
            <button type="button" class="shrink-0 p-1 rounded-lg text-current hover:bg-neutral-900/5 dark:hover:bg-neutral-50/5 transition-colors duration-200" onclick="this.parentElement.remove()" aria-label="{{ 'close'|trans({}, 'navigation') }}">
                {{ ux_icon('tabler:x', {'class': 'w-4 h-4'}) }}
            </button>
        </div>
    {% endfor %}
{% endfor %}

{# Dynamic notification container for JavaScript-generated messages #}
<div id="notifications" data-controller="notification" data-notification-target="container" role="status" aria-live="polite"></div>