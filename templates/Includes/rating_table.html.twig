<div class="panel panel-white">
  <div class="table-responsive" style="display: block;">
    <table class="table">
      <thead>
      <tr>
        <th>{{ knp_pagination_sortable(ratings, 'users.ratings.coaster'|trans, 'c.name') }}</th>
        <th class="hidden-xs">{{ knp_pagination_sortable(ratings, 'users.ratings.manufacturer'|trans, ['m.name']) }}</th>
        <th class="hidden-xs">{{ knp_pagination_sortable(ratings, 'users.ratings.opening_date'|trans, ['c.openingDate']) }}</th>
        <th>{{ knp_pagination_sortable(ratings, 'users.ratings.rating'|trans, ['r.value']) }}</th>
        <th class="hidden-xs">{{ knp_pagination_sortable(ratings, 'users.ratings.ridden_at'|trans, 'r.riddenAt') }}</th>
        {% if is_granted('delete', ratings|first) %}
          <th class="text-center hidden-xs" style="width: 20px;">{{ ux_icon('heroicons:arrow-down', {'class': 'w-6 h-6'}) }}</th>
        {% endif %}
      </tr>
      </thead>
      <tbody>
      {% for rating in ratings %}
        <tr id="tr-coaster-{{ rating.coaster.id }}">
          <td>
            <a href="{{ path('show_coaster', {'id': rating.coaster.id, 'slug': rating.coaster.slug}) }}"
               class="text-semibold">{{ rating.coaster.name }}</a>
            <div class="text-muted text-size-small">
              <span class="status-mark bg-{{ rating.coaster.status.type }} position-left"></span>
              {{ rating.coaster.park.name }}
            </div>
          </td>
          <td class="hidden-xs">
            {{ rating.coaster.manufacturer.name|default('-') }}
          </td>
          <td class="hidden-xs">
            {{ rating.coaster.openingDate is empty ? '-' : rating.coaster.openingDate|date('Y') }}
          </td>
          <td>
            <div class="csrf-protection" data-controller="csrf-protection rating"
                 data-csrf-protection-token-value="{{ csrf_token('rating') }}"
                 data-rating-csrf-protection-outlet=".csrf-protection"
                 data-rating-coaster-id-value="{{ rating.coaster.id }}"
                 data-rating-current-value-value="{{ rating.value }}"
                 data-rating-rating-id-value="{{ rating.id }}"
                 data-rating-locale-value="{{ app.request.locale }}"
                 {% if not is_granted('update', rating) %}data-rating-readonly-value="true"{% endif %}>
              <div data-rating-target="rating" style="font-size: 22px;"></div>
            </div>
          </td>
          <td class="hidden-xs">
            {{ rating.riddenAt is empty ? '-' : rating.riddenAt|format_datetime('short', 'none') }}
          </td>
          {% if is_granted('delete', rating) %}
          <td class="text-center hidden-xs">
            <div data-controller="csrf-protection rating-actions"
                 data-csrf-protection-token-value="{{ csrf_token('rating') }}"
                 data-rating-actions-csrf-protection-outlet=".csrf-protection"
                 data-rating-actions-rating-id-value="{{ rating.id }}"
                 data-rating-actions-locale-value="{{ app.request.locale }}"
                 data-rating-actions-mode-value="table">
              <a href="#" data-action="click->rating-actions#delete" data-rating-actions-target="deleteButton">{{ ux_icon('heroicons:trash', {'class': 'w-6 h-6'}) }}</a>
            </div>
          </td>
          {% endif %}
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{{ knp_pagination_render(ratings) }}
