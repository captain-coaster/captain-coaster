<div class="page-header page-header-default">
  <div class="page-header-content">
    <div class="page-title row{% if hideTitle|default(false) == true %} hidden-xs{% endif %}">
      <h1 class="col-sm-8 col-lg-9">{{ title }}{% if subTitle %} â€¢ {{ subTitle }}{% endif %}</h1>
      {% if secondaryTitle %}
         <h2 class="h6 col-sm-8 col-lg-9">{{ secondaryTitle }}</h2>
      {% endif %}
    </div>
    <div class="heading-elements {% if showSearchBar|default(true) == true %}visible-elements{% endif %}">
      <form class="heading-form" action="{{ path('search_index') }}" method="get">
        <div class="search-container" 
               data-controller="search"
               data-search-search-url-value="{{ path('api_search') }}"
               data-search-results-url-value="{{ path('search_index') }}"
               data-search-min-length-value="2"
               data-search-debounce-delay-value="300">
            <div class="has-feedback search-input-container">
              <input id="search-coaster" 
                     name="query"
                     type="search" 
                     class="form-control border-blue-600 border-lg"
                     placeholder="{{ 'app.header.search'|trans }}"
                     data-search-target="input"
                     data-action="input->search#handleInput keydown->search#handleKeydown focus->search#handleFocus"
                     autocomplete="off"
                     role="combobox"
                     aria-expanded="false"
                     aria-autocomplete="list"
                     aria-haspopup="listbox">
              <div class="form-control-feedback">
                {{ ux_icon('heroicons:magnifying-glass', {'class': 'w-6 h-6 text-size-small text-muted search-icon'}) }}
                <button type="button" 
                        class="search-clear-button" 
                        data-action="click->search#clearSearch"
                        aria-label="Clear search">
                  {{ ux_icon('heroicons:x-mark', {'class': 'w-6 h-6 text-size-small text-muted'}) }}
                </button>
              </div>
            </div>
            <div class="search-dropdown" data-search-target="dropdown" role="listbox" aria-label="{{ 'app.search.suggestions'|trans }}">
              <div data-search-target="results"></div>
            </div>
          </div>
      </form>
    </div>
  </div>
</div>
