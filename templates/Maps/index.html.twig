{% extends "layouts/base.html.twig" %}

{% block title %}
    {% if user is defined %}
        {{ 'users.map.title'|trans({'%name%': user.displayName}) }}
    {% else %}
        {{ 'map_index.title'|trans }}
    {% endif %}
{% endblock %}

{% block header %}
    {% if meta_description is defined %}
        <meta name="description" content="{{ meta_description|trans }}"/>
    {% endif %}
{% endblock %}

{% set pageHasFilters = true %}

{% block secondary_sidebar %}
    {% include 'partials/_filter_sidebar.html.twig' with {
        'filters': filters,
        'filtersForm': filtersForm,
        'filterConfig': {
            'map_outlet': '.map-container',
            'update_url': true,
            'excluded_filters': ['new', 'continent', 'country', 'sortByDistance']
        }
    } only %}
{% endblock %}

{% block wide_body %}
    <div id="map-container"
         data-controller="map"
         data-map-markers-value="{{ markers|json_encode }}"
         data-map-park-id-value="{{ parkId|default('') }}"
         class="map-container">
        <div data-map-target="container" id="map" class="h-[94vh]"></div>
    </div>
{% endblock %}

{% block javascripts %}
{% endblock %}
