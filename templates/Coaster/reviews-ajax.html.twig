{% import "helper.html.twig" as helper %}

<div id="coaster-reviews" class="row">
    <!-- Comments -->
    <div class="panel panel-flat">
        <div class="panel-heading">
            <h6 class="panel-title text-semibold">
                <i class="icon-bubble-lines4 position-left"></i>
                {{ 'review.title'|trans }}
                &nbsp;<span class="badge bg-primary">{{ reviews.getTotalItemCount() }}</span>
            </h6>
            {% if coaster.isRateable %}
                <div class="heading-elements">
                    <a class="btn btn-link btn-float text-primary" href="{{ path('review_form', {'id': coaster.id}) }}">
                        <i class="icon-plus22 text-primary"></i>
                        <span>{{ 'review.send'|trans() }}</span>
                    </a>
                </div>
            {% endif %}
        </div>

        <div class="panel-body">
            <ul class="media-list media-list-bordered">
                {% for review in reviews %}
                    <li class="media">
                        {% include 'Includes/_review_item.html.twig' with {'review': review, 'compact': true} %}
                    </li>
                {% else %}
                    <li class="text-center text-muted">
                        <i class="icon-comment-discussion position-left"></i>
                        {{ 'review_list.no_review'|trans }}
                    </li>
                {% endfor %}
            </ul>
            {{ knp_pagination_render(reviews) }}
        </div>
        {% if coaster.isRateable %}
            <div class="panel-footer text-center">
                <a href="{{ path('review_form', {'id': coaster.id}) }}">
                    <button type="button" class="btn bg-primary">
                        <i class="icon-plus22 position-left"></i>
                        {{ 'review.send'| trans() }}
                    </button>
                </a>
            </div>
        {% endif %}
    </div>
    <!-- /comments -->
</div>
