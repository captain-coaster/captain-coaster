/* ------------------------------------------------------------------------------
*
*  # Panels component
*
*  Overrides for panels bootstrap component
*
*  Version: 1.1
*  Latest update: Mar 10, 2016
*
* ---------------------------------------------------------------------------- */


// Base class
// -------------------------

.panel {
    margin-bottom: @line-height-computed;
    border-color: @panel-default-border;
    color: @text-color;

    // Scrollable panel
    &.has-scroll {
        max-width: 100%;
        overflow-x: auto;
    }

    // Panel with background pattern
    &.has-bg-image {
        // background-image: url("@{images-path}/backgrounds/panel_bg.png"); // Image not available
        background-color: #f8f8f8; // Fallback background
    }
}


// Flat panel
// -------------------------

.panel-flat {
    > .panel-heading {

        // Add top border if table is after panel body
        + .table,
        + .table-responsive {
            border-top: 1px solid @panel-inner-border;
        }
    }
}


// Solid color panels
// -------------------------

.panel[class*=bg-] {

    // Panel heading
    > .panel-heading {
        border-color: fade(#fff, 20%);

        // Inherit bg color on mobile
        @media (max-width: @screen-xs-max) {
            background-color: inherit;
        }
    }

    // Panel heading in flat panel
    &.panel-flat > .panel-heading {
        border-bottom-color: transparent;
    }

    // Apply white color to panel title
    .panel-title {
        color: #fff;
    }

    // Table border color
    .table {
        thead,
        tbody {
            td,
            th {
                border-color: fade(#fff, 10%);
            }
        }
    }

    // Inline elements color
    .text-muted,
    .help-block,
    .help-inline {
        color: fade(#fff, 80%);
    }
}


// Custom border colors
// -------------------------

.panel {
    &[class*=border-top-] {
        .border-top-radius(0);
    }

    &[class*=border-bottom-] {
        .border-bottom-radius(0);
    }

    &[class*=border-left-] {
        .border-left-radius(0);
    }

    &[class*=border-right-] {
        .border-right-radius(0);
    }
}


// Panel contents
// -------------------------

.panel-body {
    position: relative;

    // Inside flat panel
    .panel-flat > .panel-heading + & {
        padding-top: 0;
    }

    // Add top border if panel has multiple bodies
    // or table comes after body
    // or use .has-top-border class in .panel-body container
    + .panel-body,
    + .table,
    + .table-responsive,
    &.has-top-border {
        border-top: 1px solid @panel-inner-border;
    }

    // ... and change top border in coloured panel
    .panel[class*=bg-] & {
        + .panel-body,
        + .table,
        + .table-responsive,
        &.has-top-border {
            border-top-color: fade(#fff, 50%);
        }
    }

    // Slightly darker body
    &-accent {
        background-color: #fcfcfc;

        // Inside colored panel
        .panel[class*=bg-] & {
            background-color: fade(#000, 10%);
        }
    }
}


// Panel heading
// -------------------------

// Base class
.panel-heading {
    position: relative;
    .border-top-radius(@border-radius-base);

    // Bordered panel
    .panel-bordered > & {
        margin: 0;
    }

    // In flat panel it is higher
    .panel-flat > & {
        padding-top: @content-padding-large;
        padding-bottom: @content-padding-large;
        background-color: @panel-bg;

        // Add extra vertical spacing for title
        > .panel-title {
            margin-top: 2px;
            margin-bottom: 2px;
        }
    }

    // Inherit bg color in solid color panel
    .panel-flat[class*=bg-] > & {
        background-color: inherit;
    }

    // Make it pixel perfect by emulating colored border
    &[class*=bg-],
    .panel-primary &,
    .panel-danger &,
    .panel-success &,
    .panel-warning &,
    .panel-info & {
        margin: -1px -1px 0 -1px;
        .border-top-radius(@border-radius-base);
    }

    // Inside white panel
    .panel-white > & {
        background-color: @panel-bg;
        border-bottom-color: @panel-default-border;
    }
}

// Panel heading title
.panel-title {
    position: relative;
    font-size: @font-size-base;

    // Allow font size classes
    &.text-size {
        &-mini {
            font-size: @font-size-mini;
        }
        &-small {
            font-size: @font-size-small;
        }
        &-large {
            font-size: @font-size-large;
        }
    }

    // Display links as a block element
    a& {
        display: block;
    }

    // Title image
    img {
        max-height: @line-height-computed;
        display: inline-block;
        vertical-align: top;
    }

    // Add extra spacing between title and subtitle
    > small:not(.display-block),
    > .small:not(.display-block) {
        margin-left: 5px;
    }

    // Title sizing
    h1&,
    .h1& {
        font-size: @font-size-h1;
    }
    h2&,
    .h2& {
        font-size: @font-size-h2;
    }
    h3&,
    .h3& {
        font-size: @font-size-h3;
    }
    h4&,
    .h4& {
        font-size: @font-size-h4;
    }
    h5&,
    .h5& {
        font-size: @font-size-h5;
    }
    h6&,
    .h6& {
        font-size: @font-size-h6;
    }
}

// Control buttons
.icons-list {

    // Link base
    a[data-action] {
        vertical-align: middle;
        .transition(all ease-in-out 0.2s);

        // Icons base
        &:after {
            font-family: 'icomoon';
            font-size: @icon-font-size;
            min-width: @icon-font-size;
            text-align: center;
            display: inline-block;
            line-height: 1;
            vertical-align: middle;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    }

    // Collapse icon - Migrated from Icomoon \e9c1 to Heroicon chevron-down
    a[data-action="collapse"]:after {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xOS41IDguMjUtNy41IDcuNS03LjUtNy41Ii8+PC9zdmc+');
    }

    // Reload icon - Migrated from Icomoon \e9fb to Heroicon arrow-path
    a[data-action="reload"]:after {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNi4wMjMgOS4zNDhoNC45OTJ2LS4wMDFNMi45ODUgMTkuNjQ0di00Ljk5Mm0wIDBoNC45OTJtLTQuOTkzIDAgMy4xODEgMy4xODNhOC4yNSA4LjI1IDAgMCAwIDEzLjgwMy0zLjdNNC4wMzEgOS44NjVhOC4yNSA4LjI1IDAgMCAxIDEzLjgwMy0zLjdsMy4xODEgMy4xODJtMC00Ljk5MXY0Ljk5Ii8+PC9zdmc+');
    }

    // Close icon - Migrated from Icomoon \e9b6 to Heroicon x-mark
    a[data-action="close"]:after {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik02IDE4IDE4IDZNNiA2bDEyIDEyIi8+PC9zdmc+');
    }

    // Move icon - Migrated from Icomoon \e986 to Heroicon arrows-pointing-out
    a[data-action="move"] {
        cursor: move;
    
        &:after {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0zLjc1IDMuNzV2NC41bTAtNC41aDQuNW0tNC41IDBMOSA5TTMuNzUgMjAuMjV2LTQuNW0wIDQuNWg0LjVtLTQuNSAwTDkgMTVNMjAuMjUgMy43NWgtNC41bTQuNSAwdjQuNW0wLTQuNUwxNSA5bTUuMjUgMTEuMjVoLTQuNW00LjUgMHYtNC41bTAgNC41TDE1IDE1Ii8+PC9zdmc+');
        }
    }

    // Open modal icon - Migrated from Icomoon \e9eb to Heroicon cog-6-tooth
    a[data-action="modal"]:after {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik05LjU5NCAzLjk0Yy4wOS0uNTQyLjU2LS45NCAxLjExLS45NGgyLjU5M2MuNTUgMCAxLjAyLjM5OCAxLjExLjk0bC4yMTMgMS4yODFjLjA2My4zNzQuMzEzLjY4Ni42NDUuODcuMDc0LjA0LjE0Ny4wODMuMjIuMTI3LjMyNS4xOTYuNzIuMjU3IDEuMDc1LjEyNGwxLjIxNy0uNDU2YTEuMTI1IDEuMTI1IDAgMCAxIDEuMzcuNDlsMS4yOTYgMi4yNDdhMS4xMjUgMS4xMjUgMCAwIDEtLjI2IDEuNDMxbC0xLjAwMy44MjdjLS4yOTMuMjQxLS40MzguNjEzLS40My45OTJhNy43MjMgNy43MjMgMCAwIDEgMCAuMjU1Yy0uMDA4LjM3OC4xMzcuNzUuNDMuOTkxbDEuMDA0LjgyN2MuNDI0LjM1LjUzNC45NTUuMjYgMS40M2wtMS4yOTggMi4yNDdhMS4xMjUgMS4xMjUgMCAwIDEtMS4zNjkuNDkxbC0xLjIxNy0uNDU2Yy0uMzU1LS4xMzMtLjc1LS4wNzItMS4wNzYuMTI0YTYuNDcgNi40NyAwIDAgMS0uMjIuMTI4Yy0uMzMxLjE4My0uNTgxLjQ5NS0uNjQ0Ljg2OWwtLjIxMyAxLjI4MWMtLjA5LjU0My0uNTYuOTQtMS4xMS45NGgtMi41OTRjLS41NSAwLTEuMDE5LS4zOTgtMS4xMS0uOTRsLS4yMTMtMS4yODFjLS4wNjItLjM3NC0uMzEyLS42ODYtLjY0NC0uODdhNi41MiA2LjUyIDAgMCAxLS4yMi0uMTI3Yy0uMzI1LS4xOTYtLjcyLS4yNTctMS4wNzYtLjEyNGwtMS4yMTcuNDU2YTEuMTI1IDEuMTI1IDAgMCAxLTEuMzY5LS40OWwtMS4yOTctMi4yNDdhMS4xMjUgMS4xMjUgMCAwIDEgLjI2LTEuNDMxbDEuMDA0LS44MjdjLjI5Mi0uMjQuNDM3LS42MTMuNDMtLjk5MWE2LjkzMiA2LjkzMiAwIDAgMSAwLS4yNTVjLjAwNy0uMzgtLjEzOC0uNzUxLS40My0uOTkybC0xLjAwNC0uODI3YTEuMTI1IDEuMTI1IDAgMCAxLS4yNi0xLjQzbDEuMjk3LTIuMjQ3YTEuMTI1IDEuMTI1IDAgMCAxIDEuMzctLjQ5MWwxLjIxNi40NTZjLjM1Ni4xMzMuNzUxLjA3MiAxLjA3Ni0uMTI0LjA3Mi0uMDQ0LjE0Ni0uMDg2LjIyLS4xMjguMzMyLS4xODMuNTgyLS40OTUuNjQ0LS44NjlsLjIxNC0xLjI4WiIvPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE1IDEyYTMgMyAwIDEgMS02IDAgMyAzIDAgMCAxIDYgMFoiLz48L3N2Zz4=');
    }
}


// Panel footer
// -------------------------

// Base styles
.panel-footer {
    position: relative;
    padding-left: 0;
    padding-right: 0;
    .border-bottom-radius(@border-radius-base);

    // Clearing floats
    &:after {
        content: '';
        display: table;
        clear: both;
    }
}

// Transparent panel footer
.panel-footer-transparent {
    background-color: transparent;
    border-top: 0;
    padding-top: 0;
    padding-bottom: @content-padding-large - ((@input-height-base - @line-height-computed) / 2);
}

// Condensed panel footer
.panel-footer-condensed {
    padding-top: 2px;
    padding-bottom: 2px;
}

// Bordered panel footer
.panel-footer-bordered {
    background-color: @panel-bg;
    padding-right: 0;
    margin-left: @content-padding-large;
    margin-right: @content-padding-large;
}


// Collapsable panels (aka, accordion)
// -------------------------

// Panel group controls
.panel-group-control {
    .panel-title > a {
        padding-left: (@icon-font-size + @content-padding-small);
        display: inline-block;

        // Collapsible icon - Migrated from Icomoon \e9b7 to Heroicon minus
        &:before {
            content: '';
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik01IDEyaDE0Ii8+PC9zdmc+');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            display: inline-block;
            position: absolute;
            top: 50%;
            margin-top: -(@icon-font-size / 2);
            left: 0;
            width: @icon-font-size;
            height: @icon-font-size;
            line-height: 1;
        }

        // Change icon if collapsed - Migrated from Icomoon \e9b8 to Heroicon plus
        &.collapsed:before {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1zbG90PSJpY29uIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xMiA0LjV2MTVtNy41LTcuNWgtMTUiLz48L3N2Zz4=');
        }
    }

    // Right controls position
    &.panel-group-control-right {
        .panel-title > a {
            padding-left: 0;
            padding-right: (@icon-font-size + @content-padding-small);

            // Re-position the icon
            &:before {
                left: auto;
                right: 0;
            }
        }
    }
}


// Contextual variation overrides
// -------------------------

// Primary
.panel-primary {
    border-color: @panel-default-border;

    &.panel-bordered {
        border-color: @panel-primary-border;
    }
}

// Success
.panel-success {
    border-color: @panel-default-border;

    &.panel-bordered {
        border-color: @panel-success-border;
    }
}

// Info
.panel-info {
    border-color: @panel-default-border;

    &.panel-bordered {
        border-color: @panel-info-border;
    }
}

// Warning
.panel-warning {
    border-color: @panel-default-border;

    &.panel-bordered {
        border-color: @panel-warning-border;
    }
}

// Danger
.panel-danger {
    border-color: @panel-default-border;

    &.panel-bordered {
        border-color: @panel-danger-border;
    }
}
